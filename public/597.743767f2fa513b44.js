(self.webpackChunkSyndash_angular=self.webpackChunkSyndash_angular||[]).push([[597],{7597:(J,F,m)=>{"use strict";m.r(F),m.d(F,{AdminModule:()=>Ue});var g=m(9808),b=m(1810),e=m(4893),u=m(8505),h=(m(2340),m(520));let U=(()=>{class i{constructor(t){this.http=t}get id(){return this.categoria.id}getHeaders(){return{headers:new h.WM({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}register(t,o,r){const c={descripcion:t,color:o,ute:r},_=this.getHeaders();return this.http.post("http://34.227.197.0/api/crear_categoria",c,_).pipe((0,u.b)(v=>{console.log(v)}))}showAllUTEActivos(){return this.http.get("http://34.227.197.0/api/mostrar_ute_activos",this.getHeaders()).pipe((0,u.b)(t=>{console.log(t)}))}showAllCategorias(){return this.http.get("http://34.227.197.0/api/mostrar_categoria",this.getHeaders()).pipe((0,u.b)(t=>{console.log(t)}))}actualizar_categoria(t,o,r,a){const _={descripcion:o,color:r,ute:a},v=this.getHeaders();return this.http.post("http://34.227.197.0/api/actualizar_categoria/"+t,_,v).pipe((0,u.b)(Z=>{console.log(Z)}))}getCategoria(t){const o=`http://34.227.197.0/api/mostrar_categoria/${t}`,r=this.getHeaders();return this.http.get(o,r).pipe((0,u.b)(a=>{console.log(a)}))}mostrar_estadisticas(){const o=this.getHeaders();return this.http.get("http://34.227.197.0/api/mostrar_estadisticas",o)}cuentaUsuarios(){const o=this.getHeaders();return this.http.get("http://34.227.197.0/api/mostrar_usarios_activos",o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(h.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var w=m(4327);let l=(()=>{class i{constructor(t){this.http=t}getHeaders(){return{headers:new h.WM({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}crearUte(t,o,r){const a={nombre:t,apellidos:o,email:r},c=this.getHeaders();return this.http.post("http://34.227.197.0/api/registro_UTE",a,c).pipe((0,u.b)(_=>{console.log(_)}))}mostrar_utes(t){const o=`http://34.227.197.0/api/mostrar_utes?page=${t}`,r=this.getHeaders();return this.http.get(o,r).pipe((0,u.b)(a=>{console.log(a)}))}Activar_ute(t){const o=`http://34.227.197.0/api/reactivar/${t}`,r=this.getHeaders();return this.http.put(o,{},r).pipe((0,u.b)(a=>{console.log(a)}))}Inactivar_ute(t){const o=`http://34.227.197.0/api/inactivar/${t}`,r=this.getHeaders();return console.log("Headers:",r),this.http.put(o,{},r).pipe((0,u.b)(a=>{console.log("Response:",a)}))}buscarUTE(t){return this.http.get("http://34.227.197.0/api/buscar_ute/"+t,this.getHeaders())}downloadPdf(){const o=new h.WM({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});this.http.get("http://34.227.197.0/api/generar_pdf",{headers:o,responseType:"blob",observe:"response"}).subscribe(r=>{const a=r.headers.get("Content-Disposition"),c=this.getFileNameFromContentDisposition(a),_=new Blob([r.body],{type:"application/pdf"});(0,w.saveAs)(_,c)})}getFileNameFromContentDisposition(t){const r=/filename[^;=\n]=((['"]).?\2|[^;\n]*)/.exec(t);return null!=r&&r[1]?r[1].replace(/['"]/g,""):"download.pdf"}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(h.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function d(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.Categoria),e.xp6(2),e.Oqu(t.espera),e.xp6(2),e.Oqu(t.aceptados),e.xp6(2),e.Oqu(t.rechazados),e.xp6(2),e.Oqu(t.finalizados),e.xp6(2),e.Oqu(t.total)}}let x=(()=>{class i{constructor(t,o){this.serviceCategoria=t,this.authService=o,this.categorias=[],this.totalReportes=0,this.totalUsuarios=0}ngOnInit(){$.getScript("./assets/js/widgets.js"),this.serviceCategoria.mostrar_estadisticas().subscribe(t=>{this.categorias=t.categorias,this.totalReportes=t.categorias.reduce((o,r)=>o+r.total,0)}),this.serviceCategoria.cuentaUsuarios().subscribe(t=>{this.totalUsuarios=t.usuarios})}exportPdf(){this.authService.downloadPdf()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-estadisticas"]],decls:65,vars:3,consts:[[1,"page-breadcrumb","d-none","d-md-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"lni","lni-text-align-center"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],["ngbDropdown","",1,"btn-group"],["type","button",1,"btn","btn-primary",3,"click"],[1,"lni","lni-cloud-download"],[1,"row"],[1,"col-12","col-lg-6","col-xl-6"],[1,"card","radius-15"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,""],[1,"mb-0"],[1,"mb-0","font-weight-bold"],["id","chart3"],["id","chart1"],[1,"col","d-flex"],[1,"card","radius-15","w-100"],[1,"card-title"],[1,"table-responsive"],[1,"table","table-striped","mb-0"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Estad\xedsticas"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(a){return a.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Estad\xedsticas"),e.qZA()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"button",11),e.NdJ("click",function(){return o.exportPdf()}),e._UZ(14,"i",12),e._uU(15," Descargar PDF"),e.qZA()()()(),e._UZ(16,"hr"),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18)(23,"p",19),e._uU(24,"Reportes totales"),e.qZA(),e.TgZ(25,"h5",20),e._uU(26),e.qZA()(),e.TgZ(27,"div",9),e._UZ(28,"div",21),e.qZA()()()()(),e.TgZ(29,"div",14)(30,"div",15)(31,"div",16)(32,"div",17)(33,"div",18)(34,"p",19),e._uU(35,"Usuarios"),e.qZA(),e.TgZ(36,"h5",20),e._uU(37),e.qZA()(),e.TgZ(38,"div",9),e._UZ(39,"div",22),e.qZA()()()()(),e.TgZ(40,"div",23)(41,"div",24)(42,"div",16)(43,"div",25)(44,"h5",19),e._uU(45,"An\xe1lisis "),e.qZA()(),e._UZ(46,"hr"),e.TgZ(47,"div",26)(48,"table",27)(49,"thead")(50,"tr")(51,"th"),e._uU(52,"Categor\xeda"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"En espera"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Aceptados"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Rechazados"),e.qZA(),e.TgZ(59,"th"),e._uU(60,"Finalizados"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Totales"),e.qZA()()(),e.TgZ(63,"tbody"),e.YNc(64,d,13,6,"tr",28),e.qZA()()()()()()()),2&t&&(e.xp6(26),e.Oqu(o.totalReportes),e.xp6(11),e.Oqu(o.totalUsuarios),e.xp6(27),e.Q6J("ngForOf",o.categorias))},directives:[g.sg],styles:[""]}),i})();var s=m(3075),f=m(5226),p=m.n(f);function I(i,n){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMensajeNombre)}}function k(i,n){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMensajeApellido)}}function O(i,n){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMensajeCorreo)}}let N=(()=>{class i{constructor(t,o,r,a){this.router=t,this.route=o,this.fb=r,this.authService=a,this.validacionDosApellidos="^[A-Za-z\xe1\xe9\xed\xf3\xfa\xfc\xf1][a-z\xe1\xe9\xed\xf3\xfa\xfc\xf1]+([- ][A-Za-z\xe1\xe9\xed\xf3\xfa\xfc\xf1][a-z\xe1\xe9\xed\xf3\xfa\xfc\xf1]+){1}$",this.validadDosNombres="^[A-Za-z\xe1\xe9\xed\xf3\xfa\xfc\xf1][a-z\xe1\xe9\xed\xf3\xfa\xfc\xf1]+([- ][A-Za-z\xe1\xe9\xed\xf3\xfa\xfc\xf1][a-z\xe1\xe9\xed\xf3\xfa\xfc\xf1]+){0,1}$",this.RegisterForm=this.fb.group({nombre:["",[s.kI.required,s.kI.maxLength(15),s.kI.pattern(this.validadDosNombres)]],apellidos:["",[s.kI.required,s.kI.maxLength(25),s.kI.pattern(this.validacionDosApellidos)]],email:["",[s.kI.required]]})}get errorMensajeCorreo(){var t;const o=null===(t=this.RegisterForm.get("email"))||void 0===t?void 0:t.errors;return(null==o?void 0:o.required)?"El email es obligatorio":""}get errorMensajeNombre(){var t;const o=null===(t=this.RegisterForm.get("nombre"))||void 0===t?void 0:t.errors;return(null==o?void 0:o.required)?"El nombre es obligatorio":(null==o?void 0:o.pattern)?"El valor ingresado no tiene un formato de nombre v\xe1lido":(null==o?void 0:o.maxlength)?"El valor ingresado no puede tener m\xe1s de 15 caracteres":""}get errorMensajeApellido(){var t;const o=null===(t=this.RegisterForm.get("apellidos"))||void 0===t?void 0:t.errors;return(null==o?void 0:o.required)?"Los apellidos son obligatorios":(null==o?void 0:o.pattern)?"El valor ingresado no tiene un formato de apellido v\xe1lido":(null==o?void 0:o.maxlength)?"El valor ingresado no puede tener m\xe1s de 25 caracteres":""}crearUTE(){if(this.RegisterForm.invalid)return;const{nombre:t,apellidos:o,email:r}=this.RegisterForm.value;this.authService.crearUte(t,o,r).subscribe(a=>{console.log(a),p().fire("","Funcionario creado correctamente","success"),this.RegisterForm.reset()},a=>{console.log(a.error.message),p().fire("Error",a.error.message,"error")})}campoValido(t){var o,r;return!!((null===(o=this.RegisterForm.get(t))||void 0===o?void 0:o.invalid)&&this.RegisterForm&&(null===(r=this.RegisterForm.get(t))||void 0===r?void 0:r.touched))}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.F0),e.Y36(b.gz),e.Y36(s.qu),e.Y36(l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gestionar-ute"]],decls:54,vars:4,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-category","icon-color-6"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card","radius-15","overflow-hidden"],[1,"row","g-0"],[1,"col-xl-12"],[1,"card-body","p-md-5"],[1,"row"],[1,"col-xl-9","mx-auto"],[1,"card","border-top","border-0","border-4","border-info"],[1,"card-body"],[1,"border","p-4","rounded"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-info"],[1,"mb-0","text-info"],[1,"form-body"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"row","mb-3"],["for","inputNombre",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","id","inputNombre","placeholder","Nombre","formControlName","nombre",1,"form-control"],[1,"col","text-danger"],[4,"ngIf"],["for","inputApellido1",1,"col-sm-3","col-form-label"],["type","text","id","inputApellido 1","placeholder","Apellido 1 Apellido 2","formControlName","apellidos",1,"form-control"],["for","inputCorreo",1,"col-sm-3","col-form-label"],["type","email","id","inputEmailAddress2","placeholder","Correo institucional","formControlName","email",1,"form-control"],[1,"col-12"],[1,"d-grid","justify-content-center"],["type","submit",1,"custom-btn","btn-5","mt-4"],[1,"bx","bx-user","me-1"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Gesti\xf3n UTE"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(a){return a.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Unidad T\xe9cnica Especializada"),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17)(20,"div",18)(21,"div"),e._UZ(22,"i",19),e.qZA(),e.TgZ(23,"h5",20),e._uU(24,"Registrar UTE"),e.qZA()(),e._UZ(25,"hr"),e.TgZ(26,"div",21)(27,"form",22),e.NdJ("ngSubmit",function(){return o.crearUTE()}),e.TgZ(28,"div",23)(29,"label",24),e._uU(30,"Nombre"),e.qZA(),e.TgZ(31,"div",25),e._UZ(32,"input",26),e.TgZ(33,"div",27),e.YNc(34,I,2,1,"p",28),e.qZA()()(),e.TgZ(35,"div",23)(36,"label",29),e._uU(37,"Apellidos"),e.qZA(),e.TgZ(38,"div",25),e._UZ(39,"input",30),e.TgZ(40,"div",27),e.YNc(41,k,2,1,"p",28),e.qZA()()(),e.TgZ(42,"div",23)(43,"label",31),e._uU(44,"Correo institucional"),e.qZA(),e.TgZ(45,"div",25),e._UZ(46,"input",32),e.TgZ(47,"div",27),e.YNc(48,O,2,1,"p",28),e.qZA()()(),e.TgZ(49,"div",33)(50,"div",34)(51,"button",35),e._UZ(52,"i",36),e._uU(53,"Registrar UTE"),e.qZA()()()()()()()()()()()()()()),2&t&&(e.xp6(27),e.Q6J("formGroup",o.RegisterForm),e.xp6(7),e.Q6J("ngIf",o.campoValido("nombre")),e.xp6(7),e.Q6J("ngIf",o.campoValido("apellidos")),e.xp6(7),e.Q6J("ngIf",o.campoValido("email")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,g.O5],styles:['@charset "UTF-8";.central[_ngcontent-%COMP%]{position:center}.frame[_ngcontent-%COMP%]{width:90%;margin:40px auto;text-align:center}.custom-btn[_ngcontent-%COMP%]{width:130px;height:40px;color:#fff;border-radius:5px;padding:10px 25px;font-family:Roboto,sans-serif;font-weight:500;background:transparent;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;box-shadow:inset 2px 2px 2px #ffffff80,7px 7px 20px #0000001a,4px 4px 5px #0000001a;outline:none}.btn-5[_ngcontent-%COMP%]{width:130px;height:40px;line-height:42px;padding:0;border:none;background:#fe1308;background:linear-gradient(0deg,#fe1309 0%,#fe1509 100%)}.btn-5[_ngcontent-%COMP%]:hover{color:#f0094a;background:transparent;box-shadow:none}.btn-5[_ngcontent-%COMP%]:before, .btn-5[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;height:2px;width:0;background:#f0094a;box-shadow:-1px -1px 5px #fff,7px 7px 20px #0003,4px 4px 5px #0002;transition:.4s ease all}.btn-5[_ngcontent-%COMP%]:after{right:inherit;top:inherit;left:0;bottom:0}.btn-5[_ngcontent-%COMP%]:hover:before, .btn-5[_ngcontent-%COMP%]:hover:after{width:100%;transition:.8s ease all}']}),i})();function q(i,n){if(1&i&&e._UZ(0,"input",23),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Tol(o.getClassCSS(t.id)),e.s9C("placeholder",t.placeholder),e.Q6J("type",t.type)("id",t.id)("formControlName",t.id)("minlength",t.minlength)("maxlength",t.maxlength)("value",t.value)}}function S(i,n){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.Nombre)}}function B(i,n){if(1&i&&(e.TgZ(0,"select",24)(1,"option",25),e._uU(2),e.qZA(),e.YNc(3,S,2,1,"option",26),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.s9C("aria-label",t.label),e.Q6J("formControlName",t.id),e.xp6(2),e.Oqu(t.placeholder),e.xp6(1),e.Q6J("ngForOf",o.opcionesUteActivos)}}function Y(i,n){if(1&i&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.inputErrorMessage(t)," ")}}function D(i,n){if(1&i&&(e.TgZ(0,"div",18)(1,"label",19),e._uU(2),e.qZA(),e.TgZ(3,"div"),e.YNc(4,q,1,9,"input",20),e.YNc(5,B,4,4,"select",21),e.YNc(6,Y,2,1,"div",22),e.qZA()()),2&i){const t=n.$implicit,o=e.oxw();let r;e.xp6(1),e.Q6J("for",t.id),e.xp6(1),e.Oqu(t.label),e.xp6(1),e.Gre("",t.class," mb-3"),e.xp6(1),e.Q6J("ngIf","text"===t.type||"color"===t.type),e.xp6(1),e.Q6J("ngIf","select"===t.type),e.xp6(1),e.Q6J("ngIf",(null==(r=o.registroNuevaCategoria.get(t.id))?null:r.invalid)&&(null==(r=o.registroNuevaCategoria.get(t.id))?null:r.touched))}}let P=(()=>{class i{constructor(t,o,r,a,c){this.router=t,this.fb=o,this.http=r,this.route=a,this.CategoriaService=c,this.opcionesUteActivos=[],this.title="agregar-categoria",this.registroNuevaCategoria=this.fb.group({ute:["",[s.kI.required]],descripcion:["",[s.kI.required,s.kI.maxLength(100),s.kI.pattern("^[a-zA-Z\xf1\xd1 ]*$")]],color:["",[s.kI.required]],selectOption:["option1",[s.kI.required]]}),this.registroCategoriaFormData={inputs:[{placeholder:"Nombre de la categor\xeda",label:"Nombre",id:"descripcion",type:"text",class:"col-md-6",maxlength:"100",errorMessage:[{typeError:"required",message:"El campo es requerido"},{typeError:"maxlength",message:"El campo debe tener m\xe1ximo 100 caracteres"},{typeError:"pattern",message:"El campo solo acepta letras"}]},{placeholder:"Selecciona un color",label:"Color",id:"color",type:"color",class:"col-md-6",value:"#a400ed",errorMessage:[{typeError:"required",message:"El campo es requerido"}]},{placeholder:"Seleccione un usuario t\xe9cnico especializado",label:"Usuario",id:"ute",type:"select",class:"col-md-6",options:this.opcionesUteActivos,errorMessage:[{typeError:"required",message:"El campo es requerido"}]}]}}ngOnInit(){this.CategoriaService.showAllUTEActivos().subscribe(t=>{this.opcionesUteActivos=t.UTE,console.log(this.opcionesUteActivos)},t=>{console.error(t)})}crearCatergoria(){if(this.registroNuevaCategoria.invalid)return void this.registroNuevaCategoria.markAllAsTouched();const{descripcion:t,color:o,ute:r}=this.registroNuevaCategoria.value;this.CategoriaService.register(t,o,r).subscribe(a=>{console.log(a),p().fire("Categor\xeda registrada","La categor\xeda se registr\xf3 correctamente","success")},a=>{console.log(a.error.message),p().fire("Error",a.error.message,"error")})}inputErrorMessage(t){var o,r,a,c,_,v,Z,E;const{id:T}=t;if(!(null===(o=this.registroNuevaCategoria.get(T))||void 0===o?void 0:o.valid)&&(null===(r=this.registroNuevaCategoria.get(T))||void 0===r?void 0:r.touched)){const y=this.registroCategoriaFormData.inputs.indexOf(t);for(let A=0;A<this.registroCategoriaFormData.inputs[y].errorMessage.length;A++)if(null===(_=null===(c=null===(a=this.registroNuevaCategoria)||void 0===a?void 0:a.get(T))||void 0===c?void 0:c.errors)||void 0===_?void 0:_[null===(Z=null===(v=this.registroCategoriaFormData.inputs[y])||void 0===v?void 0:v.errorMessage[A])||void 0===Z?void 0:Z.typeError])return this.registroCategoriaFormData.inputs[y].errorMessage[A].message;if("select"===t.type&&!(null===(E=this.registroNuevaCategoria.get(T))||void 0===E?void 0:E.value))return"Por favor seleccione un usuario"}return""}getClassCSS(t){var o,r,a,c;return(null===(o=this.registroNuevaCategoria.get(t))||void 0===o?void 0:o.invalid)&&(null===(r=this.registroNuevaCategoria.get(t))||void 0===r?void 0:r.touched)?"is-invalid":(null===(a=this.registroNuevaCategoria.get(t))||void 0===a?void 0:a.valid)&&(null===(c=this.registroNuevaCategoria.get(t))||void 0===c?void 0:c.touched)?"is-valid":""}reiniciar(){this.registroNuevaCategoria.reset()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.F0),e.Y36(s.qu),e.Y36(h.eN),e.Y36(b.gz),e.Y36(U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-categorias"]],decls:22,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-category","icon-color-5"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card","radius-15","overflow-hidden"],[1,"row","g-0"],[1,"col-xl-12"],[1,"card-body","p-md-5"],[3,"formGroup"],["class","form-group row",4,"ngFor","ngForOf"],[1,"button-group"],["type","submit",1,"btn","btn-success","btn-lg","mr-3",3,"click"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"form-group","row"],[1,"col-md-2","col-form-label",3,"for"],["class","form-control",3,"type","id","placeholder","formControlName","minlength","maxlength","class","value",4,"ngIf"],["class","form-select",3,"aria-label","formControlName",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"form-control",3,"type","id","placeholder","formControlName","minlength","maxlength","value"],[1,"form-select",3,"aria-label","formControlName"],["value","","disabled","","selected",""],[4,"ngFor","ngForOf"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Categor\xedas"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(a){return a.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Nueva categor\xeda"),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"form",13),e.YNc(16,D,7,8,"div",14),e.TgZ(17,"div",15)(18,"button",16),e.NdJ("click",function(){return o.crearCatergoria()}),e._uU(19,"Crear"),e.qZA(),e.TgZ(20,"button",17),e.NdJ("click",function(){return o.reiniciar()}),e._uU(21,"Reiniciar"),e.qZA()()()()()()()),2&t&&(e.xp6(15),e.Q6J("formGroup",o.registroNuevaCategoria),e.xp6(1),e.Q6J("ngForOf",o.registroCategoriaFormData.inputs))},directives:[s._Y,s.JL,s.sg,g.sg,g.O5,s.Fj,s.JJ,s.u,s.wO,s.nD,s.EJ,s.YN,s.Kr],styles:["button[_ngcontent-%COMP%]{margin-top:20px}button.btn-primary[_ngcontent-%COMP%]{background-color:#ca0a24;border-color:#ca0a24}button.btn-secondary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;margin-left:10px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}"]}),i})();class j{constructor(n,t,o,r,a,c){this.id=n,this.operation=t,this.ute=o,this.reporte_id=r,this.modified_at=a,this.justificacion=c}}let Q=(()=>{class i{constructor(t){this.http=t,this.bitacoras=[]}getHeaders(){return{headers:new h.WM({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}getBitacora(t){return this.http.get("http://34.227.197.0/api/mostrar_bitacora?page="+t,this.getHeaders()).pipe((0,u.b)(o=>{const{operation:r,ute:a,reporte_id:c,modifed_at:_,justificacion:v}=o.bitacora;this.bitacora=new j(r,a,c,_,v),this.bitacoras.push(this.bitacora)}))}getFiltroBitacora(t={}){const o=`http://34.227.197.0/api/filtro_bitacora/${t}`,r=this.getHeaders();return this.http.get(o,r).pipe((0,u.b)(a=>{console.log(a)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(h.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function R(i,n){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.justificacion," ")}}function z(i,n){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit,o=e.oxw(2);e.xp6(1),e.Oqu(o.getShortTitle(t.justificacion))}}function H(i,n){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.justificacion)}}function G(i,n){if(1&i&&(e.ynx(0),e.YNc(1,z,2,1,"span",36),e.YNc(2,H,2,1,"span",36),e.BQk()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!t.mostrarMas),e.xp6(1),e.Q6J("ngIf",t.mostrarMas)}}function V(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit;return e.oxw(2).toggleMostrarMas(r)}),e._uU(1,"...Ver m\xe1s"),e.qZA()}}function L(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit;return e.oxw(2).toggleMostrarMas(r)}),e._UZ(1,"br"),e._uU(2," Ver menos"),e.qZA()}}function X(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",37),e.YNc(10,R,2,1,"ng-container",36),e.YNc(11,G,3,2,"ng-container",36),e.YNc(12,V,2,0,"a",38),e.YNc(13,L,3,0,"a",39),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(t.operation),e.xp6(2),e.Oqu(t.ute),e.xp6(2),e.Oqu(t.reporte_id),e.xp6(2),e.Oqu(t.modified_at),e.xp6(2),e.Q6J("ngIf",(null==t.justificacion?null:t.justificacion.length)<=o.maxTitleLength),e.xp6(1),e.Q6J("ngIf",(null==t.justificacion?null:t.justificacion.length)>o.maxTitleLength),e.xp6(1),e.Q6J("ngIf",(null==t.justificacion?null:t.justificacion.length)>o.maxTitleLength&&!t.mostrarMas),e.xp6(1),e.Q6J("ngIf",(null==t.justificacion?null:t.justificacion.length)>o.maxTitleLength&&t.mostrarMas)}}function W(i,n){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,X,14,8,"ng-container",36),e.qZA()),2&i){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(!o.reporteId||t.reporte_id==o.reporteId)&&(!o.fechaInicio||t.modified_at>=o.fechaInicio)&&(!o.fechaFin||t.modified_at<=o.fechaFin))}}function K(i,n){1&i&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",42),e._uU(3," No se encontraron m\xe1s registros "),e.qZA()(),e.BQk())}function ee(i,n){if(1&i&&(e.ynx(0),e.YNc(1,W,2,1,"tr",35),e.YNc(2,K,4,0,"ng-container",36),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.bitacoras),e.xp6(1),e.Q6J("ngIf",!t.recordsFound)}}function te(i,n){1&i&&(e.TgZ(0,"tr")(1,"td",43),e._uU(2," No hay registros para mostrar. "),e.qZA()())}function oe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().cambiarPagina(-1)}),e._uU(2,"Anteriores"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().cambiarPagina(1)}),e._uU(5,"Siguientes"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.currentPage<=1),e.xp6(3),e.Q6J("disabled",t.ultimaPagina==t.page)}}let ie=(()=>{class i{constructor(t){this.bitacoraService=t,this.bitacoras=[],this.bitacorasTemp=[],this.fechaInicio="",this.fechaFin="",this.reporteId="",this.resultadosEncontrados=!1,this.maxTitleLength=20,this.mostrarMas=!1,this.categoriaDescripcion="",this.page=1,this.currentPage=1,this.ultimaPagina=1}ngOnInit(){this.mostrarBitacora()}mostrarBitacora(){this.bitacoraService.getBitacora(this.page).subscribe(t=>{console.log(t),this.bitacoras=t.bitacora.data,this.bitacorasTemp=t.bitacora.data,this.currentPage=t.bitacora.current_page,this.ultimaPagina=t.bitacora.last_page},t=>{console.log(t.error.message)})}cambiarPagina(t){this.page+=t,console.log(this.page),this.page<1?this.page=1:this.page>this.ultimaPagina&&(this.page-=t),this.mostrarBitacora()}getShortTitle(t){if(this.mostrarMas)return t;if(t.length>this.maxTitleLength){const o=t.substring(0,this.maxTitleLength).trim(),r=o.lastIndexOf("");return o.substring(0,r)}return t}toggleMostrarMas(t){t.mostrarMas=!t.mostrarMas}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-bitacoras"]],decls:65,vars:6,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bxs-report","icon-color-5"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container"],[1,"breadcrumb-title","pe-3","text-center"],[1,"row","justify-content-center"],[1,"col-12","col-lg-4"],[1,"card","radius-15"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"form-group"],[1,"form-label"],[1,"row"],[1,"col-sm-6"],["type","date","id","fechaInicio","name","fechaInicio",1,"form-control",3,"ngModel","ngModelChange"],["type","date","id","fechaFin","name","fechaFin",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-text","bg-transparent"],[1,"bx","bx-search"],["type","text","placeholder","Ingrese el n\xfamero del reporte","name","reporteId",1,"form-control",3,"ngModel","ngModelChange"],[1,"card","radius-15","overflow-hidden"],[1,"card-header","border-bottom-0"],["id","bitacoras",1,"mb-0",2,"text-transform","none"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","mb-0"],[4,"ngIf","ngIfElse"],["noRecords",""],["class","card-footer d-flex justify-content-end",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-left","text-center","table-justificacion"],["class","ver-mas",3,"click",4,"ngIf"],["class","ver-menos",3,"click",4,"ngIf"],[1,"ver-mas",3,"click"],[1,"ver-menos",3,"click"],["colspan","5",1,"alert","alert-warning"],["colspan","5",1,"text-center"],[1,"card-footer","d-flex","justify-content-end"],[1,"btn","btn-light",3,"disabled","click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Bit\xe1cora"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(a){return a.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Ver Bit\xe1cora"),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10),e._uU(13,"\xc1rea de filtros"),e.qZA(),e._UZ(14,"hr"),e.TgZ(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"label",17),e._uU(22,"Rango de fechas"),e.qZA(),e.TgZ(23,"div",18)(24,"div",19)(25,"input",20),e.NdJ("ngModelChange",function(a){return o.fechaInicio=a}),e.qZA()(),e.TgZ(26,"div",19)(27,"input",21),e.NdJ("ngModelChange",function(a){return o.fechaFin=a}),e.qZA()()()()()()()(),e.TgZ(28,"div",12)(29,"div",13)(30,"div",14)(31,"div",15)(32,"div",16)(33,"label",17),e._uU(34,"Buscar por # de reporte"),e.qZA(),e.TgZ(35,"div",22)(36,"span",23),e._UZ(37,"i",24),e.qZA(),e.TgZ(38,"input",25),e.NdJ("ngModelChange",function(a){return o.reporteId=a}),e.qZA()()()()()()()(),e.TgZ(39,"div",26)(40,"div",27)(41,"div",15)(42,"div")(43,"h5",28),e._uU(44," Reportes en la bit\xe1cora "),e.qZA()()()(),e.TgZ(45,"div",29)(46,"div",30)(47,"table",31)(48,"thead")(49,"tr")(50,"th"),e._uU(51,"Operaci\xf3n"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"UTE"),e.qZA(),e.TgZ(54,"th"),e._uU(55,"N\xfamero de reporte"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"Fecha y hora de modificaci\xf3n"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Justificaci\xf3n"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,ee,3,2,"ng-container",32),e.YNc(62,te,3,0,"ng-template",null,33,e.W1O),e.qZA()()(),e.YNc(64,oe,6,2,"div",34),e.qZA()()()),2&t){const r=e.MAs(63);e.xp6(25),e.Q6J("ngModel",o.fechaInicio),e.xp6(2),e.Q6J("ngModel",o.fechaFin),e.xp6(11),e.Q6J("ngModel",o.reporteId),e.xp6(23),e.Q6J("ngIf",o.bitacoras.length>0)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",0===o.reporteId.length)}},directives:[s.Fj,s.JJ,s.On,g.O5,g.sg],styles:['.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.alert-warning[_ngcontent-%COMP%]{text-align:center}#fechaInicio[_ngcontent-%COMP%]:hover:before{content:"Fecha inicial";position:absolute;top:-25px;left:0;font-size:14px;color:#fff;background-color:#968d90;padding:5px;border-radius:10px}#fechaFin[_ngcontent-%COMP%]:hover:before{content:"Fecha final";position:absolute;top:-25px;left:0;font-size:14px;color:#fff;background-color:#968d90;padding:5px;border-radius:10px}.table-justificacion[_ngcontent-%COMP%]{white-space:pre-wrap}']}),i})();const re=function(i){return{"background-color":i}};function ae(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"span",17),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().editCategoria(a.id)}),e.TgZ(10,"div",19),e._UZ(11,"i",20),e.qZA()()()()}if(2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.descripcion),e.xp6(2),e.Q6J("ngStyle",e.VKq(4,re,t.color)),e.xp6(1),e.hij(" ",t.color," "),e.xp6(2),e.Oqu(t.ute)}}let ne=(()=>{class i{constructor(t,o){this.categoriaService=t,this.router=o,this.categorias=[]}ngOnInit(){this.categoriaService.showAllCategorias().subscribe(t=>{this.categorias=t.categorias,console.log(this.categorias)},t=>{console.log(t.error.message)})}editCategoria(t){t?this.router.navigate(["admin","categorias","editar-categorias",t]):console.error("El id de la categor\xeda es inv\xe1lido")}deleteCategoria(t){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(b.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ver-categorias"]],decls:32,vars:1,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bxs-report","icon-color-5"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card","radius-15","overflow-hidden"],[1,"card-header","border-bottom-0"],[1,"d-flex","align-items-center"],[1,"mb-0",2,"text-transform","none"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],[2,"display","inline-block","width","20px","height","20px","margin-right","10px",3,"ngStyle"],["type","button",1,"btn","btn-bg-light-info",3,"click"],[1,"widgets-icons","bg-light-info","text-info","rounded-circle","ms-auto"],[1,"bx","bx-pencil"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Categor\xedas"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(a){return a.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Ver categor\xedas"),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div")(15,"h5",12),e._uU(16,"Categor\xedas en el sistema"),e.qZA()()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"table",15)(20,"thead")(21,"tr")(22,"th"),e._uU(23,"Nombre de la categor\xeda"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Color"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"UTE"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Editar"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,ae,12,6,"tr",16),e.qZA()()()()()),2&t&&(e.xp6(31),e.Q6J("ngForOf",o.categorias))},directives:[g.sg,g.PC],styles:[""]}),i})();function se(i,n){if(1&i&&e._UZ(0,"input",23),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Tol(o.getClassCSS(t.id)),e.s9C("placeholder",t.placeholder),e.Q6J("type",t.type)("id",t.id)("formControlName",t.id)("minlength",t.minlength)("maxlength",t.maxlength)("value",t.value)}}function ce(i,n){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.Nombre)}}function le(i,n){if(1&i&&(e.TgZ(0,"select",24)(1,"option",25),e._uU(2),e.qZA(),e.YNc(3,ce,2,1,"option",26),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.s9C("aria-label",t.label),e.Q6J("formControlName",t.id),e.xp6(2),e.Oqu(t.placeholder),e.xp6(1),e.Q6J("ngForOf",o.opcionesUteActivos)}}function de(i,n){if(1&i&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.inputErrorMessage(t)," ")}}function ue(i,n){if(1&i&&(e.TgZ(0,"div",18)(1,"label",19),e._uU(2),e.qZA(),e.TgZ(3,"div"),e.YNc(4,se,1,9,"input",20),e.YNc(5,le,4,4,"select",21),e.YNc(6,de,2,1,"div",22),e.qZA()()),2&i){const t=n.$implicit,o=e.oxw();let r;e.xp6(1),e.Q6J("for",t.id),e.xp6(1),e.Oqu(t.label),e.xp6(1),e.Gre("",t.class," mb-3"),e.xp6(1),e.Q6J("ngIf","text"===t.type||"color"===t.type),e.xp6(1),e.Q6J("ngIf","select"===t.type),e.xp6(1),e.Q6J("ngIf",(null==(r=o.edicionCategoria.get(t.id))?null:r.invalid)&&(null==(r=o.edicionCategoria.get(t.id))?null:r.touched))}}let pe=(()=>{class i{constructor(t,o,r,a,c){this.categoriaService=t,this.fb=o,this.route=r,this.router=a,this.activatedRoute=c,this.opcionesUteActivos=[],this.edicionCategoria=this.fb.group({ute:[""],descripcion:["",[s.kI.required,s.kI.maxLength(100),s.kI.pattern("^[a-zA-Z\xf1\xd1 ]*$")]],color:["",[s.kI.required]]}),this.edicionCategoriaFormData={inputs:[{placeholder:"Nombre de la categor\xeda",label:"Nombre",id:"descripcion",type:"text",class:"col-md-6",maxlength:"100",errorMessage:[{typeError:"required",message:"El campo es requerido"},{typeError:"maxlength",message:"El campo debe tener m\xe1ximo 100 caracteres"},{typeError:"pattern",message:"El campo solo acepta letras"}]},{placeholder:"Selecciona un color",label:"Color",id:"color",type:"color",class:"col-md-6",value:"#a400ed",errorMessage:[{typeError:"required",message:"El campo es requerido"}]},{placeholder:"Seleccione un usuario t\xe9cnico especializado",label:"Usuario",id:"ute",type:"select",class:"col-md-6",options:this.opcionesUteActivos,errorMessage:[{typeError:"required",message:"El campo es requerido"}]}]}}ngOnInit(){this.categoriaId=this.route.snapshot.paramMap.get("id"),this.categoriaService.getCategoria(this.categoriaId).subscribe(t=>{this.categoria=t,this.edicionCategoria.patchValue({descripcion:t.descripcion,color:t.color})}),this.categoriaService.getCategoria(this.categoriaId).subscribe(t=>{this.categoria=t,this.categoriaService.showAllUTEActivos().subscribe(o=>{this.opcionesUteActivos=o.UTE},o=>{console.error(o)})})}actualizarCategoria(){if(this.edicionCategoria.invalid)this.edicionCategoria.markAllAsTouched();else{const{descripcion:t,color:o,ute:r}=this.edicionCategoria.value;this.categoriaService.actualizar_categoria(this.categoriaId,t,o,r).subscribe(()=>{p().fire("Success","Categor\xeda actualizada","success"),this.router.navigate(["/admin/categorias/ver-categorias"])},a=>{console.log(a.message),p().fire("Error",a.message,"error")})}}reiniciar(){this.edicionCategoria.reset()}inputErrorMessage(t){var o,r,a,c,_,v,Z,E;const{id:T}=t;if(!(null===(o=this.edicionCategoria.get(T))||void 0===o?void 0:o.valid)&&(null===(r=this.edicionCategoria.get(T))||void 0===r?void 0:r.touched)){const y=this.edicionCategoriaFormData.inputs.indexOf(t);for(let A=0;A<this.edicionCategoriaFormData.inputs[y].errorMessage.length;A++)if(null===(_=null===(c=null===(a=this.edicionCategoria)||void 0===a?void 0:a.get(T))||void 0===c?void 0:c.errors)||void 0===_?void 0:_[null===(Z=null===(v=this.edicionCategoriaFormData.inputs[y])||void 0===v?void 0:v.errorMessage[A])||void 0===Z?void 0:Z.typeError])return this.edicionCategoriaFormData.inputs[y].errorMessage[A].message;if("select"===t.type&&!(null===(E=this.edicionCategoria.get(T))||void 0===E?void 0:E.value))return"Por favor seleccione un usuario"}return""}getClassCSS(t){var o,r,a,c;return(null===(o=this.edicionCategoria.get(t))||void 0===o?void 0:o.invalid)&&(null===(r=this.edicionCategoria.get(t))||void 0===r?void 0:r.touched)?"is-invalid":(null===(a=this.edicionCategoria.get(t))||void 0===a?void 0:a.valid)&&(null===(c=this.edicionCategoria.get(t))||void 0===c?void 0:c.touched)?"is-valid":""}atras(){this.router.navigate(["/admin/categorias/ver-categorias"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(s.qu),e.Y36(b.gz),e.Y36(b.F0),e.Y36(b.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editar-categorias"]],decls:22,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-category","icon-color-5"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card","radius-15","overflow-hidden"],[1,"row","g-0"],[1,"col-xl-12"],[1,"card-body","p-md-5"],[3,"formGroup"],["class","form-group row",4,"ngFor","ngForOf"],[1,"button-group","d-flex","justify-content-center"],["type","submit",1,"btn","btn-success","btn-lg","mr-3","g","mx-1",3,"click"],["type","button",1,"btn","btn-secondary","btn-lg","mx-1",3,"click"],[1,"form-group","row"],[1,"col-md-2","col-form-label",3,"for"],["class","form-control",3,"type","id","placeholder","formControlName","minlength","maxlength","class","value",4,"ngIf"],["class","form-select",3,"aria-label","formControlName",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"form-control",3,"type","id","placeholder","formControlName","minlength","maxlength","value"],[1,"form-select",3,"aria-label","formControlName"],["value","","disabled","","selected",""],[4,"ngFor","ngForOf"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Categor\xedas"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(a){return a.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Actualizar categor\xeda"),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"form",13),e.YNc(16,ue,7,8,"div",14),e.TgZ(17,"div",15)(18,"button",16),e.NdJ("click",function(){return o.actualizarCategoria()}),e._uU(19,"Actualizar"),e.qZA(),e.TgZ(20,"button",17),e.NdJ("click",function(){return o.atras()}),e._uU(21,"Atr\xe1s"),e.qZA()()()()()()()),2&t&&(e.xp6(15),e.Q6J("formGroup",o.edicionCategoria),e.xp6(1),e.Q6J("ngForOf",o.edicionCategoriaFormData.inputs))},directives:[s._Y,s.JL,s.sg,g.sg,g.O5,s.Fj,s.JJ,s.u,s.wO,s.nD,s.EJ,s.YN,s.Kr],styles:[""]}),i})(),ge=(()=>{class i{constructor(t){this.http=t}getHeaders(){return{headers:new h.WM({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}mostrar_ciudadanos(t){const o=`http://34.227.197.0/api/mostrar_ciudadanos?page=${t}`,r=this.getHeaders();return this.http.get(o,r).pipe((0,u.b)(a=>{console.log(a)}))}Activar_ciudadano(t){const o=`http://34.227.197.0/api/reactivar/${t}`,r=this.getHeaders();return this.http.put(o,{},r).pipe((0,u.b)(a=>{console.log(a)}))}Inactivar_ciudadano(t){const o=`http://34.227.197.0/api/inactivar/${t}`,r=this.getHeaders();return console.log("Headers:",r),this.http.put(o,{},r).pipe((0,u.b)(a=>{console.log("Response:",a)}))}buscarCiudadano(t){return this.http.get("http://34.227.197.0/api/buscar_usuario/"+t,this.getHeaders())}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(h.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function me(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().cambiarEstado(r.Id)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.Estado)}}function _e(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().cambiarEstado(r.Id)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.Estado)}}function he(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,me,2,1,"span",24),e.YNc(9,_e,2,1,"span",25),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.Nombre),e.xp6(2),e.Oqu(t.Apellidos),e.xp6(2),e.Oqu(t.Email),e.xp6(2),e.Q6J("ngIf","Activo"==t.Estado),e.xp6(1),e.Q6J("ngIf","Inactivo"==t.Estado)}}function fe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().cambiarPagina(-1)}),e._uU(2,"Anteriores"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().cambiarPagina(1)}),e._uU(5,"Siguientes"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.currentPage<=1),e.xp6(3),e.Q6J("disabled",t.ultimaPagina==t.page)}}function ve(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().cambiarEstado(r.Id)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.Estado)}}function xe(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw().cambiarEstado(r.Id)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.Estado)}}function Ce(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,ve,2,1,"span",24),e.YNc(9,xe,2,1,"span",25),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.Nombre),e.xp6(2),e.Oqu(t.Apellidos),e.xp6(2),e.Oqu(t.Email),e.xp6(2),e.Q6J("ngIf","Activo"==t.Estado),e.xp6(1),e.Q6J("ngIf","Inactivo"==t.Estado),e.xp6(2),e.Oqu(t.Categoria)}}function Ze(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().cambiarPagina(-1)}),e._uU(2,"Anteriores"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().cambiarPagina(1)}),e._uU(5,"Siguientes"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.currentPage<=1),e.xp6(3),e.Q6J("disabled",t.ultimaPagina==t.page)}}const Te=[{path:"gestionar-ute",component:N,data:{title:"Gestionar UTE"}},{path:"gestionar-ciudadano",component:(()=>{class i{constructor(t){this.ciudadanoService=t,this.ciudadano=[],this.bandera="",this.ciudadanoTemp=[],this.page=1,this.currentPage=1,this.ultimaPagina=1}ngOnInit(){this.mostrarCiudadanos()}mostrarCiudadanos(){this.ciudadanoService.mostrar_ciudadanos(this.page).subscribe(t=>{this.ciudadano=t.Ciudadano.data,this.ciudadanoTemp=t.Ciudadano.data,this.currentPage=t.Ciudadano.current_page,this.ultimaPagina=t.Ciudadano.last_page},t=>{console.log(t.error.message)})}cambiarPagina(t){this.page+=t,console.log(this.page),this.page<1?this.page=1:this.page>this.ultimaPagina&&(this.page-=t),this.mostrarCiudadanos()}cambiarEstado(t){this.ciudadano.find(r=>r.id===t),p().fire({title:"\xbfQu\xe9 deseas realizar?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Activar",cancelButtonText:"Desactivar",cancelButtonColor:"#d33"}).then(r=>{r.isConfirmed?(this.ciudadanoService.Activar_ciudadano(t).subscribe(a=>{console.log(a),p().fire("Activado!",a.message,"success"),this.mostrarCiudadanos()},a=>{p().fire("Error!",a.error.message,"error"),console.log(a.error.message)}),this.mostrarCiudadanos()):r.dismiss===p().DismissReason.cancel&&this.ciudadanoService.Inactivar_ciudadano(t).subscribe(a=>{console.log(a),p().fire("Desactivado!",a.message,"success"),this.mostrarCiudadanos()},a=>{p().fire("Error!",a.error.message,"error"),console.log(a.error.message)})})}buscar(t){console.log(t),0===t.length&&(this.ciudadano=this.ciudadanoTemp),t.length>0?this.ciudadanoService.buscarCiudadano(t).subscribe(o=>{this.ciudadano=o.Ciudadano},o=>{console.log(o.error.message)}):this.mostrarCiudadanos()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ge))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gestionar-ciudadano"]],decls:40,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bxs-report","icon-color-5"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mx-sm-2","my-2","my-sm-1"],[1,"input-group"],[1,"input-group-text","bg-transparent"],[1,"bx","bx-search"],["type","text","placeholder","Buscar por nombre",1,"form-control",3,"keyup"],["txtNombre",""],[1,"card","radius-15","overflow-hidden"],[1,"card-header","border-bottom-0"],[1,"d-flex","align-items-center"],[1,"mb-0",2,"text-transform","none"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],["class","card-footer d-flex justify-content-end",4,"ngIf"],["class","btn btn-sm btn-light-success btn-block radius-30",3,"click",4,"ngIf"],["class","btn btn-sm btn-light-danger btn-block radius-30",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-light-success","btn-block","radius-30",3,"click"],[1,"btn","btn-sm","btn-light-danger","btn-block","radius-30",3,"click"],[1,"card-footer","d-flex","justify-content-end"],[1,"btn","btn-light",3,"disabled","click"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Ver usuarios"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(c){return c.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Ver Usuarios Ciudadanos"),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"span",11),e._UZ(14,"i",12),e.qZA(),e.TgZ(15,"input",13,14),e.NdJ("keyup",function(){e.CHM(r);const c=e.MAs(16);return o.buscar(c.value)}),e.qZA()()(),e._uU(17,"\n\xa0\n"),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div")(22,"h5",18),e._uU(23,"Usuarios en el sistema"),e.qZA()()()(),e.TgZ(24,"div",19)(25,"div",20)(26,"table",21)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"Nombre"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Apellidos"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Correo"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Estado"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,he,10,5,"tr",22),e.qZA()()(),e.YNc(39,fe,6,2,"div",23),e.qZA()()}if(2&t){const r=e.MAs(16);e.xp6(38),e.Q6J("ngForOf",o.ciudadano),e.xp6(1),e.Q6J("ngIf",0===r.value.length)}},directives:[g.sg,g.O5],styles:[""]}),i})(),data:{title:"Gestionar ciudadanos"}},{path:"estadisticas",component:x,data:{title:"Estadisticas"}},{path:"categorias",component:P,data:{title:"Crear categorias"}},{path:"bitacoras",component:ie,data:{title:"Bitacoras"}},{path:"categorias/ver-categorias",component:ne,data:{title:"Ver categorias"}},{path:"categorias/editar-categorias/:id",component:pe,data:{title:"Editar categorias"}},{path:"gestionar-ute/ver-ute",component:(()=>{class i{constructor(t){this.authService=t,this.UTE=[],this.UTETemp=[],this.page=1,this.currentPage=1,this.ultimaPagina=1,this.bandera=""}ngOnInit(){this.cargarUte()}cargarUte(){this.authService.mostrar_utes(this.page).subscribe(t=>{this.UTE=t.UTE.data,this.UTETemp=t.UTE.data,this.currentPage=t.UTE.current_page,this.ultimaPagina=t.UTE.last_page,console.log("Salida de los utes "+this.UTE)},t=>{console.log(t.error.message)})}cambiarPagina(t){this.page+=t,console.log(this.page),this.page<1?this.page=1:this.page>this.ultimaPagina&&(this.page-=t),this.cargarUte()}cambiarEstado(t){this.UTE.find(r=>r.id===t),p().fire({title:"\xbfQu\xe9 deseas realizar?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Activar",cancelButtonText:"Desactivar",cancelButtonColor:"#d33"}).then(r=>{r.isConfirmed?(this.authService.Activar_ute(t).subscribe(a=>{console.log(a),p().fire("Activado!","El usuario UTE ha sido activado correctamente","success"),this.cargarUte()},a=>{p().fire("Error!",a.error.message,"error"),console.log(a.error.message)}),this.cargarUte()):r.dismiss===p().DismissReason.cancel&&this.authService.Inactivar_ute(t).subscribe(a=>{console.log(a),p().fire("Desactivado!","El usuario UTE ha sido desactivado correctamente.","success"),this.cargarUte()},a=>{p().fire("Error!",a.error.message,"error"),console.log(a.error.message)})})}buscar(t){console.log(t),0===t.length&&(this.UTE=this.UTETemp),t.length>0?this.authService.buscarUTE(t).subscribe(o=>{this.UTE=o.UTE,console.log("UTE"),console.log(o),console.log("Salida de los utes "+this.UTE)},o=>{console.log(o.error.message)}):this.cargarUte()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ver-ute"]],decls:41,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bxs-report","icon-color-5"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mx-sm-2","my-2","my-sm-1"],[1,"input-group"],[1,"input-group-text","bg-transparent"],[1,"bx","bx-search"],["type","text","placeholder","Buscar por nombre",1,"form-control",3,"keyup"],["txtNombre",""],[1,"card","radius-15","overflow-hidden"],[1,"card-header","border-bottom-0"],[1,"d-flex","align-items-center"],[1,"mb-0",2,"text-transform","none"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],["class","card-footer d-flex justify-content-end",4,"ngIf"],["class","btn btn-sm btn-light-success btn-block radius-30",3,"click",4,"ngIf"],["class","btn btn-sm btn-light-danger btn-block radius-30",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-light-success","btn-block","radius-30",3,"click"],[1,"btn","btn-sm","btn-light-danger","btn-block","radius-30",3,"click"],[1,"card-footer","d-flex","justify-content-end"],[1,"btn","btn-light",3,"disabled","click"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Ver usuarios"),e.qZA(),e.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e.NdJ("click",function(c){return c.preventDefault()}),e._UZ(8,"i",7),e.qZA()(),e.TgZ(9,"li",8),e._uU(10,"Ver Unidades T\xe9cnicas Especializadas"),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"span",11),e._UZ(14,"i",12),e.qZA(),e.TgZ(15,"input",13,14),e.NdJ("keyup",function(){e.CHM(r);const c=e.MAs(16);return o.buscar(c.value)}),e.qZA()()(),e.TgZ(17,"div",15)(18,"div",16)(19,"div",17)(20,"div")(21,"h5",18),e._uU(22,"Usuarios en el sistema"),e.qZA()()()(),e.TgZ(23,"div",19)(24,"div",20)(25,"table",21)(26,"thead")(27,"tr")(28,"th"),e._uU(29,"Nombre"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Apellidos"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Correo"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Estado"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Categor\xeda"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,Ce,12,6,"tr",22),e.qZA()()(),e.YNc(40,Ze,6,2,"div",23),e.qZA()()}if(2&t){const r=e.MAs(16);e.xp6(39),e.Q6J("ngForOf",o.UTE),e.xp6(1),e.Q6J("ngIf",0===r.value.length)}},directives:[g.sg,g.O5],styles:[""]}),i})(),data:{title:"Ver UTE"}}];let Ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[b.Bz.forChild(Te)],b.Bz]}),i})(),Ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,Ae,s.UX,h.JF,s.u5]]}),i})()},4327:function(J,F){var b;void 0!==(b=function(){"use strict";function u(l,d,x){var s=new XMLHttpRequest;s.open("GET",l),s.responseType="blob",s.onload=function(){w(s.response,d,x)},s.onerror=function(){console.error("could not download file")},s.send()}function M(l){var d=new XMLHttpRequest;d.open("HEAD",l,!1);try{d.send()}catch(x){}return 200<=d.status&&299>=d.status}function h(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(x){var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(d)}}var C="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,U=C.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),w=C.saveAs||("object"!=typeof window||window!==C?function(){}:"download"in HTMLAnchorElement.prototype&&!U?function(l,d,x){var s=C.URL||C.webkitURL,f=document.createElement("a");f.download=d=d||l.name||"download",f.rel="noopener","string"==typeof l?(f.href=l,f.origin===location.origin?h(f):M(f.href)?u(l,d,x):h(f,f.target="_blank")):(f.href=s.createObjectURL(l),setTimeout(function(){s.revokeObjectURL(f.href)},4e4),setTimeout(function(){h(f)},0))}:"msSaveOrOpenBlob"in navigator?function(l,d,x){if(d=d||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function e(l,d){return void 0===d?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,x),d);else if(M(l))u(l,d,x);else{var s=document.createElement("a");s.href=l,s.target="_blank",setTimeout(function(){h(s)})}}:function(l,d,x,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof l)return u(l,d,x);var f="application/octet-stream"===l.type,p=/constructor/i.test(C.HTMLElement)||C.safari,I=/CriOS\/[\d]+/.test(navigator.userAgent);if((I||f&&p||U)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var q=k.result;q=I?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=q:location=q,s=null},k.readAsDataURL(l)}else{var O=C.URL||C.webkitURL,N=O.createObjectURL(l);s?s.location=N:location.href=N,s=null,setTimeout(function(){O.revokeObjectURL(N)},4e4)}});C.saveAs=w.saveAs=w,J.exports=w}.apply(F,[]))&&(J.exports=b)}}]);