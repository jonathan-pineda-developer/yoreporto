"use strict";(self.webpackChunkSyndash_angular=self.webpackChunkSyndash_angular||[]).push([[97],{5097:(Kt,u,_)=>{_.r(u),_.d(u,{UteModule:()=>Vt});var l=_(9808),p=_(3075),g=_(1810),f=_(5226),s=_.n(f),t=_(4893),d=_(6709),h=_(520);let Z=(()=>{class o{constructor(e){this.http=e,this.id="",this._ocultarModal=!0}get ocultarModal(){return this._ocultarModal}cerrarModal(){this._ocultarModal=!0}abrirModal(e){return this.http.put("http://34.227.197.0/api/aceptar_reporte/"+e,{})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(h.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function T(o,r){if(1&o&&t._UZ(0,"img",50),2&o){const e=t.oxw(3);t.Q6J("src",e.photoURL(),t.LSH)}}function v(o,r){if(1&o&&t._UZ(0,"img",51),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imagen,t.LSH)}}function C(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.titulo," ")}}function b(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Oqu(n.getShortTitle(e.titulo))}}function A(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.titulo)}}function R(o,r){if(1&o&&(t.ynx(0),t.YNc(1,b,2,1,"span",22),t.YNc(2,A,2,1,"span",22),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.mostrarMas)}}function U(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._uU(1,"...Ver m\xe1s"),t.qZA()}}function q(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._UZ(1,"br"),t._uU(2," Ver menos"),t.qZA()}}function M(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",54),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function w(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function J(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function G(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",57),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function N(o,r){if(1&o&&(t.TgZ(0,"option",58),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw().$implicit;t.Q6J("value",e.id)("selected",e.id===n.categoria_id),t.xp6(1),t.Oqu(e.descripcion)}}function Q(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,T,1,1,"img",36),t.YNc(3,v,1,1,"img",37),t.qZA(),t.TgZ(4,"td",32),t.YNc(5,C,2,1,"ng-container",22),t.YNc(6,R,3,2,"ng-container",22),t.YNc(7,U,2,0,"a",38),t.YNc(8,q,3,0,"a",39),t.qZA(),t.TgZ(9,"td",32),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t.YNc(13,M,2,1,"span",40),t.YNc(14,w,2,1,"span",41),t.YNc(15,J,2,1,"span",42),t.YNc(16,G,2,1,"span",43),t.qZA(),t.TgZ(17,"td")(18,"select",44),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.categoria_id=i})("change",function(){const a=t.CHM(e).$implicit;return t.oxw(2).cambiarCategoria(a.id)}),t.TgZ(19,"option",16),t._uU(20,"Seleccione una categor\xeda"),t.qZA(),t.YNc(21,N,2,3,"option",45),t.qZA()(),t.TgZ(22,"td")(23,"div",46)(24,"div",47)(25,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).mostrarDetallesReporte(a.id)}),t._UZ(26,"i",49),t.qZA()()()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null==e.imagen),t.xp6(1),t.Q6J("ngIf",null!=e.imagen),t.xp6(2),t.Q6J("ngIf",e.titulo.length<=n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&e.mostrarMas),t.xp6(2),t.Oqu(t.xi3(11,13,e.created_at,"short")),t.xp6(3),t.Q6J("ngIf","Finalizado"==e.estado),t.xp6(1),t.Q6J("ngIf","Aceptado"==e.estado),t.xp6(1),t.Q6J("ngIf","Rechazado"==e.estado),t.xp6(1),t.Q6J("ngIf","En espera"==e.estado),t.xp6(2),t.Q6J("ngModel",e.categoria_id),t.xp6(3),t.Q6J("ngForOf",n.categorias)}}function k(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",13),t._uU(5,"Total reportes: "),t.qZA(),t.TgZ(6,"span",27),t._uU(7),t.qZA()(),t.TgZ(8,"div",26)(9,"h5",13),t._uU(10,"P\xe1gina: "),t.qZA(),t.TgZ(11,"span",27),t._uU(12),t.qZA()()(),t.TgZ(13,"div",28)(14,"div",29)(15,"table",30)(16,"thead"),t._UZ(17,"tr"),t.TgZ(18,"tr",31)(19,"th"),t._uU(20,"Imagen"),t.qZA(),t.TgZ(21,"th",32),t._uU(22,"T\xedtulo"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Fecha & Hora"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Estado"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Reasignar categor\xeda"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Ver detalles"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,Q,27,16,"tr",33),t.qZA()()(),t.TgZ(33,"div",34)(34,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPaginaAll(-1)}),t._uU(35,"Anteriores"),t.qZA(),t._uU(36," \xa0 "),t.TgZ(37,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPaginaAll(1)}),t._uU(38,"Siguientes"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(7),t.hij(" ",e.allReportes,""),t.xp6(5),t.hij(" ",e.page1,""),t.xp6(20),t.Q6J("ngForOf",e.reportes),t.xp6(2),t.Q6J("disabled",e.currentPage1<=1),t.xp6(3),t.Q6J("disabled",e.ultimaPagina1==e.page1)}}function I(o,r){if(1&o&&t._UZ(0,"img",50),2&o){const e=t.oxw(3);t.Q6J("src",e.photoURL(),t.LSH)}}function E(o,r){if(1&o&&t._UZ(0,"img",51),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imagen,t.LSH)}}function O(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.titulo," ")}}function $(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Oqu(n.getShortTitle(e.titulo))}}function Y(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.titulo)}}function y(o,r){if(1&o&&(t.ynx(0),t.YNc(1,$,2,1,"span",22),t.YNc(2,Y,2,1,"span",22),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.mostrarMas)}}function F(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._uU(1,"...Ver m\xe1s"),t.qZA()}}function H(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._UZ(1,"br"),t._uU(2," Ver menos"),t.qZA()}}function L(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function P(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function S(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",57),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function z(o,r){if(1&o&&(t.TgZ(0,"option",58),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw().$implicit;t.Q6J("value",e.id)("selected",e.id===n.categoria_id),t.xp6(1),t.Oqu(e.descripcion)}}function D(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,I,1,1,"img",36),t.YNc(3,E,1,1,"img",37),t.qZA(),t.TgZ(4,"td",32),t.YNc(5,O,2,1,"ng-container",22),t.YNc(6,y,3,2,"ng-container",22),t.YNc(7,F,2,0,"a",38),t.YNc(8,H,3,0,"a",39),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t.YNc(13,L,2,1,"span",41),t.YNc(14,P,2,1,"span",42),t.YNc(15,S,2,1,"span",43),t.qZA(),t.TgZ(16,"td")(17,"select",44),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.categoria_id=i})("change",function(){const a=t.CHM(e).$implicit;return t.oxw(2).cambiarCategoria(a.id)}),t.TgZ(18,"option",16),t._uU(19,"Seleccione una categor\xeda"),t.qZA(),t.YNc(20,z,2,3,"option",45),t.qZA()(),t.TgZ(21,"td",32)(22,"div",46)(23,"div",47)(24,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).mostrarDetallesReporte(a.id)}),t._UZ(25,"i",49),t.qZA()()()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null==e.imagen),t.xp6(1),t.Q6J("ngIf",null!=e.imagen),t.xp6(2),t.Q6J("ngIf",e.titulo.length<=n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&e.mostrarMas),t.xp6(2),t.Oqu(t.xi3(11,12,e.created_at,"short")),t.xp6(3),t.Q6J("ngIf","Aceptado"==e.estado),t.xp6(1),t.Q6J("ngIf","Rechazado"==e.estado),t.xp6(1),t.Q6J("ngIf","En espera"==e.estado),t.xp6(2),t.Q6J("ngModel",e.categoria_id),t.xp6(3),t.Q6J("ngForOf",n.categorias)}}function j(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",13),t._uU(5,"Total reportes aceptados: "),t.qZA(),t.TgZ(6,"span",27),t._uU(7),t.qZA()(),t.TgZ(8,"div",26)(9,"h5",13),t._uU(10,"P\xe1gina: "),t.qZA(),t.TgZ(11,"span",27),t._uU(12),t.qZA()()(),t.TgZ(13,"div",28)(14,"div",29)(15,"table",59)(16,"thead")(17,"tr",31)(18,"th"),t._uU(19,"Imagen"),t.qZA(),t.TgZ(20,"th",32),t._uU(21,"T\xedtulo"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Fecha & Hora"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Estado"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Reasignar categor\xeda"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Ver detalles"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,D,26,15,"tr",33),t.qZA()()(),t.TgZ(32,"div",34)(33,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(-1)}),t._uU(34,"Anteriores"),t.qZA(),t._uU(35," \xa0 "),t.TgZ(36,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(1)}),t._uU(37,"Siguientes"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(7),t.hij(" ",e.totalReportes,""),t.xp6(5),t.hij(" ",e.page,""),t.xp6(19),t.Q6J("ngForOf",e.reportes),t.xp6(2),t.Q6J("disabled",e.currentPage<=1),t.xp6(3),t.Q6J("disabled",e.ultimaPagina==e.page)}}function B(o,r){if(1&o&&t._UZ(0,"img",50),2&o){const e=t.oxw(3);t.Q6J("src",e.photoURL(),t.LSH)}}function V(o,r){if(1&o&&t._UZ(0,"img",51),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imagen,t.LSH)}}function K(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.titulo," ")}}function X(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Oqu(n.getShortTitle(e.titulo))}}function W(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.titulo)}}function tt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,X,2,1,"span",22),t.YNc(2,W,2,1,"span",22),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.mostrarMas)}}function et(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._uU(1,"...Ver m\xe1s"),t.qZA()}}function ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._UZ(1,"br"),t._uU(2," Ver menos"),t.qZA()}}function nt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function it(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function rt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",57),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function at(o,r){if(1&o&&(t.TgZ(0,"option",58),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw().$implicit;t.Q6J("value",e.id)("selected",e.id===n.categoria_id),t.xp6(1),t.Oqu(e.descripcion)}}function ct(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,B,1,1,"img",36),t.YNc(3,V,1,1,"img",37),t.qZA(),t.TgZ(4,"td",32),t.YNc(5,K,2,1,"ng-container",22),t.YNc(6,tt,3,2,"ng-container",22),t.YNc(7,et,2,0,"a",38),t.YNc(8,ot,3,0,"a",39),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t.YNc(13,nt,2,1,"span",41),t.YNc(14,it,2,1,"span",42),t.YNc(15,rt,2,1,"span",43),t.qZA(),t.TgZ(16,"td")(17,"select",44),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.categoria_id=i})("change",function(){const a=t.CHM(e).$implicit;return t.oxw(2).cambiarCategoria(a.id)}),t.TgZ(18,"option",16),t._uU(19,"Seleccione una categor\xeda"),t.qZA(),t.YNc(20,at,2,3,"option",45),t.qZA()(),t.TgZ(21,"td",32)(22,"div",46)(23,"div",47)(24,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).mostrarDetallesReporte(a.id)}),t._UZ(25,"i",49),t.qZA()()()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null==e.imagen),t.xp6(1),t.Q6J("ngIf",null!=e.imagen),t.xp6(2),t.Q6J("ngIf",e.titulo.length<=n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&e.mostrarMas),t.xp6(2),t.Oqu(t.xi3(11,12,e.created_at,"short")),t.xp6(3),t.Q6J("ngIf","Aceptado"==e.estado),t.xp6(1),t.Q6J("ngIf","Rechazado"==e.estado),t.xp6(1),t.Q6J("ngIf","En espera"==e.estado),t.xp6(2),t.Q6J("ngModel",e.categoria_id),t.xp6(3),t.Q6J("ngForOf",n.categorias)}}function st(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",13),t._uU(5,"Total reportes rechazados: "),t.qZA(),t.TgZ(6,"span",27),t._uU(7),t.qZA()(),t.TgZ(8,"div",26)(9,"h5",13),t._uU(10,"P\xe1gina: "),t.qZA(),t.TgZ(11,"span",27),t._uU(12),t.qZA()()(),t.TgZ(13,"div",28)(14,"div",29)(15,"table",59)(16,"thead")(17,"tr",31)(18,"th"),t._uU(19,"Imagen"),t.qZA(),t.TgZ(20,"th",32),t._uU(21,"T\xedtulo"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Fecha & Hora"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Estado"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Reasignar categor\xeda"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Ver detalles"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,ct,26,15,"tr",33),t.qZA()()(),t.TgZ(32,"div",34)(33,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(-1)}),t._uU(34,"Anteriores"),t.qZA(),t._uU(35," \xa0 "),t.TgZ(36,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(1)}),t._uU(37,"Siguientes"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(7),t.hij(" ",e.totalReportes,""),t.xp6(5),t.hij(" ",e.page,""),t.xp6(19),t.Q6J("ngForOf",e.reportes),t.xp6(2),t.Q6J("disabled",e.currentPage<=1),t.xp6(3),t.Q6J("disabled",e.ultimaPagina==e.page)}}function _t(o,r){if(1&o&&t._UZ(0,"img",50),2&o){const e=t.oxw(3);t.Q6J("src",e.photoURL(),t.LSH)}}function pt(o,r){if(1&o&&t._UZ(0,"img",51),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imagen,t.LSH)}}function lt(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.titulo," ")}}function gt(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Oqu(n.getShortTitle(e.titulo))}}function dt(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.titulo)}}function mt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,gt,2,1,"span",22),t.YNc(2,dt,2,1,"span",22),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.mostrarMas)}}function ut(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._uU(1,"Ver m\xe1s..."),t.qZA()}}function xt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._UZ(1,"br"),t._uU(2," Ver menos"),t.qZA()}}function ft(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function ht(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function Zt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",57),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function Tt(o,r){if(1&o&&(t.TgZ(0,"option",58),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw().$implicit;t.Q6J("value",e.id)("selected",e.id===n.categoria_id),t.xp6(1),t.Oqu(e.descripcion)}}function vt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,_t,1,1,"img",36),t.YNc(3,pt,1,1,"img",37),t.qZA(),t.TgZ(4,"td",32),t.YNc(5,lt,2,1,"ng-container",22),t.YNc(6,mt,3,2,"ng-container",22),t.YNc(7,ut,2,0,"a",38),t.YNc(8,xt,3,0,"a",39),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t.YNc(13,ft,2,1,"span",41),t.YNc(14,ht,2,1,"span",42),t.YNc(15,Zt,2,1,"span",43),t.qZA(),t.TgZ(16,"td")(17,"select",44),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.categoria_id=i})("change",function(){const a=t.CHM(e).$implicit;return t.oxw(2).cambiarCategoria(a.id)}),t.TgZ(18,"option",16),t._uU(19,"Seleccione una categor\xeda"),t.qZA(),t.YNc(20,Tt,2,3,"option",45),t.qZA()(),t.TgZ(21,"td",32)(22,"div",46)(23,"div",47)(24,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).mostrarDetallesReporte(a.id)}),t._UZ(25,"i",49),t.qZA()()()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null==e.imagen),t.xp6(1),t.Q6J("ngIf",null!=e.imagen),t.xp6(2),t.Q6J("ngIf",e.titulo.length<=n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&e.mostrarMas),t.xp6(2),t.Oqu(t.xi3(11,12,e.created_at,"short")),t.xp6(3),t.Q6J("ngIf","Aceptado"==e.estado),t.xp6(1),t.Q6J("ngIf","Rechazado"==e.estado),t.xp6(1),t.Q6J("ngIf","En espera"==e.estado),t.xp6(2),t.Q6J("ngModel",e.categoria_id),t.xp6(3),t.Q6J("ngForOf",n.categorias)}}function Ct(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",13),t._uU(5,"Total reportes en espera: "),t.qZA(),t.TgZ(6,"span",27),t._uU(7),t.qZA()(),t.TgZ(8,"div",26)(9,"h5",13),t._uU(10,"P\xe1gina: "),t.qZA(),t.TgZ(11,"span",27),t._uU(12),t.qZA()()(),t.TgZ(13,"div",28)(14,"div",29)(15,"table",59)(16,"thead")(17,"tr",31)(18,"th"),t._uU(19,"Imagen"),t.qZA(),t.TgZ(20,"th",32),t._uU(21,"T\xedtulo"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Fecha & Hora"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Estado"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Reasignar categor\xeda"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Ver detalles"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,vt,26,15,"tr",33),t.qZA()()(),t.TgZ(32,"div",34)(33,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(-1)}),t._uU(34,"Anteriores"),t.qZA(),t._uU(35," \xa0 "),t.TgZ(36,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(1)}),t._uU(37,"Siguientes"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(7),t.hij(" ",e.totalReportes,""),t.xp6(5),t.hij(" ",e.page,""),t.xp6(19),t.Q6J("ngForOf",e.reportes),t.xp6(2),t.Q6J("disabled",e.currentPage<=1),t.xp6(3),t.Q6J("disabled",e.ultimaPagina==e.page)}}function bt(o,r){if(1&o&&t._UZ(0,"img",50),2&o){const e=t.oxw(3);t.Q6J("src",e.photoURL(),t.LSH)}}function At(o,r){if(1&o&&t._UZ(0,"img",51),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imagen,t.LSH)}}function Rt(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.titulo," ")}}function Ut(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Oqu(n.getShortTitle(e.titulo))}}function qt(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.titulo)}}function Mt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Ut,2,1,"span",22),t.YNc(2,qt,2,1,"span",22),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.mostrarMas)}}function wt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._uU(1,"Ver m\xe1s..."),t.qZA()}}function Jt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).toggleMostrarMas(i)}),t._UZ(1,"br"),t._uU(2," Ver menos"),t.qZA()}}function Gt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",54),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).cambiarEstado(i.id)}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado)}}function Nt(o,r){if(1&o&&(t.TgZ(0,"option",58),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw().$implicit;t.Q6J("value",e.id)("selected",e.id===n.categoria_id),t.xp6(1),t.Oqu(e.descripcion)}}function Qt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,bt,1,1,"img",36),t.YNc(3,At,1,1,"img",37),t.qZA(),t.TgZ(4,"td",32),t.YNc(5,Rt,2,1,"ng-container",22),t.YNc(6,Mt,3,2,"ng-container",22),t.YNc(7,wt,2,0,"a",38),t.YNc(8,Jt,3,0,"a",39),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t.YNc(13,Gt,2,1,"span",40),t.qZA(),t.TgZ(14,"td")(15,"select",44),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.categoria_id=i})("change",function(){const a=t.CHM(e).$implicit;return t.oxw(2).cambiarCategoria(a.id)}),t.TgZ(16,"option",16),t._uU(17,"Seleccione una categor\xeda"),t.qZA(),t.YNc(18,Nt,2,3,"option",45),t.qZA()(),t.TgZ(19,"td",32)(20,"div",46)(21,"div",47)(22,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).mostrarDetallesReporte(a.id)}),t._UZ(23,"i",49),t.qZA()()()()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null==e.imagen),t.xp6(1),t.Q6J("ngIf",null!=e.imagen),t.xp6(2),t.Q6J("ngIf",e.titulo.length<=n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&!e.mostrarMas),t.xp6(1),t.Q6J("ngIf",e.titulo.length>n.maxTitleLength&&e.mostrarMas),t.xp6(2),t.Oqu(t.xi3(11,10,e.created_at,"short")),t.xp6(3),t.Q6J("ngIf","Finalizado"==e.estado),t.xp6(2),t.Q6J("ngModel",e.categoria_id),t.xp6(3),t.Q6J("ngForOf",n.categorias)}}function kt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",13),t._uU(5,"Total reportes en espera: "),t.qZA(),t.TgZ(6,"span",27),t._uU(7),t.qZA()(),t.TgZ(8,"div",26)(9,"h5",13),t._uU(10,"P\xe1gina: "),t.qZA(),t.TgZ(11,"span",27),t._uU(12),t.qZA()()(),t.TgZ(13,"div",28)(14,"div",29)(15,"table",59)(16,"thead")(17,"tr",31)(18,"th"),t._uU(19,"Imagen"),t.qZA(),t.TgZ(20,"th",32),t._uU(21,"T\xedtulo"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Fecha & Hora"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Estado"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Reasignar categor\xeda"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Ver detalles"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,Qt,24,13,"tr",33),t.qZA()()(),t.TgZ(32,"div",34)(33,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(-1)}),t._uU(34,"Anteriores"),t.qZA(),t._uU(35," \xa0 "),t.TgZ(36,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().cambiarPagina(1)}),t._uU(37,"Siguientes"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(7),t.hij(" ",e.totalReportes,""),t.xp6(5),t.hij(" ",e.page,""),t.xp6(19),t.Q6J("ngForOf",e.reportes),t.xp6(2),t.Q6J("disabled",e.currentPage<=1),t.xp6(3),t.Q6J("disabled",e.ultimaPagina==e.page)}}function It(o,r){1&o&&(t.TgZ(0,"div",60),t._UZ(1,"img",61),t.TgZ(2,"p",62),t._uU(3,"A\xfan no hay reportes"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("src","https://imgur.com/KAcQNao.png",t.LSH))}function Et(o,r){1&o&&(t.TgZ(0,"div",60),t._UZ(1,"img",61),t.TgZ(2,"p",62),t._uU(3,"No hay reportes finalizados"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("src","https://imgur.com/KAcQNao.png",t.LSH))}function Ot(o,r){1&o&&(t.TgZ(0,"div",60),t._UZ(1,"img",61),t.TgZ(2,"p",62),t._uU(3,"No hay reportes aceptados"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("src","https://imgur.com/KAcQNao.png",t.LSH))}function $t(o,r){1&o&&(t.TgZ(0,"div",60),t._UZ(1,"img",61),t.TgZ(2,"p",62),t._uU(3,"No hay reportes rechazados"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("src","https://imgur.com/KAcQNao.png",t.LSH))}function Yt(o,r){1&o&&(t.TgZ(0,"div",60),t._UZ(1,"img",61),t.TgZ(2,"p",62),t._uU(3,"No hay reportes en espera"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("src","https://imgur.com/KAcQNao.png",t.LSH))}let yt=(()=>{class o{constructor(e,n,i){this.reporteService=e,this.modalAceptar=n,this.router=i,this.reportes=[],this.cargando=!1,this.categorias="",this.totalReportes=0,this.allReportes=0,this.currentPage=1,this.currentPage1=1,this.ultimaPagina=0,this.ultimaPagina1=0,this.maxTitleLength=20,this.mostrarMas=!1,this.page=1,this.page1=1,this.selectedOption="Todos",this.id="",this.estado="",this.bandera="Rechazado",this.imgUrl="",this.reporte=e.reporte,this.imgUrl=null!=this.reporteService.reporte?this.reporteService.reporte.imagenUrl:"\u200bhttp://34.227.197.0/api/reportes/getImagenById/no-image"}photoURL(){let e=this.imgUrl.slice(1);if(null!=e)return e}filtrarReportes(){"Todos"===this.selectedOption?this.cargarReporte():(this.reporteService.mostrarReportesByEstado(this.selectedOption,this.page).subscribe(e=>{console.log("reportes"),this.reportes=e.reportes.data,this.totalReportes=e.reportes.total,this.ultimaPagina=e.reportes.last_page,this.currentPage=e.reportes.current_page,console.log(e)},e=>{console.log(e.error.message),this.reportes=[]}),this.reporteService.getAllCategorias().subscribe(e=>{this.categorias=e.categorias,console.log("categorias"),console.log(this.categorias)},e=>{console.log(e.error.message),s().fire("Error",e.error.message,"error")}))}ngOnInit(){this.cargarReporte(),this.reporteService.getAllCategorias().subscribe(e=>{this.categorias=e.categorias,console.log("categorias"),console.log(this.categorias)},e=>{console.log(e.error.message),s().fire("Error",e.error.message,"error")})}cargarReporte(){this.reporteService.getReporteUTE(this.page1).subscribe(e=>{this.reportes=e.reportes.data,this.allReportes=e.reportes.total,this.ultimaPagina1=e.reportes.last_page,this.currentPage1=e.reportes.current_page,console.log(e),this.reportes.sort(function(n,i){return"En espera"==n.estado?-1:"Aceptado"==n.estado||"Rechazado"==n.estado?1:0}),console.log(this.reportes)},e=>{console.log(e.error.message),this.reportes=[]})}cambiarPagina(e){this.page+=e,console.log(this.page),this.page<1?this.page=1:this.page>this.ultimaPagina&&(this.page-=e),this.filtrarReportes()}cambiarPaginaAll(e){this.page1+=e,console.log(this.page1),this.page1<1?this.page1=1:this.page1>this.ultimaPagina1&&(this.page1-=e),this.cargarReporte()}cambiarEstado(e){console.log(this.estado),s().fire({title:"\xbfQu\xe9 deseas hacer con el reporte?",text:"Est\xe1s a punto de cambiar el estado del reporte",icon:"question",showCancelButton:!0,confirmButtonColor:"green",confirmButtonText:"Aceptarlo",cancelButtonText:"Rechazarlo",cancelButtonColor:"#d33",showDenyButton:!0,denyButtonText:"Finalizarlo",denyButtonColor:"#3085d6"}).then(n=>{if(n.isConfirmed)this.reporteService.aceptarReporte(e).subscribe(i=>{console.log(i),this.bandera="Aceptado"},i=>{console.log(i.error.message)}),s().fire("Cambiado!","El estado del reporte ha sido cambiado.","success");else if(n.isDenied)this.reporteService.finalizarReporte(e).subscribe(i=>{console.log(i),this.bandera="Finalizado",this.filtrarReportes()},i=>{console.log(i.error.message)}),s().fire("Finalizado!","El estado del reporte ha sido finalizado.","success");else if(n.dismiss===s().DismissReason.cancel){let i="";s().fire({title:"\xbfPor qu\xe9 rechazaste el reporte?",input:"text",inputPlaceholder:"Escribe el motivo",showCancelButton:!0,inputValidator:a=>a?a.length>=300?"El motivo no debe exceder los 300 caracteres":null:"Debes escribir el motivo"}).then(a=>{a.isConfirmed&&(i=a.value,console.log(i),this.reporteService.rechazarReporte(i,e).subscribe(c=>{s().fire("Rechazado!","Reporte rechazado correctamente","success"),this.filtrarReportes()},c=>{s().fire("Error",c.error.message,"error")}),this.filtrarReportes())})}this.filtrarReportes()})}cambiarCategoria(e){const n=this.reportes.find(i=>i.id===e);s().fire({title:"\xbfQuieres cambiar la categor\xeda?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed?this.reporteService.actualizar_categoria_reporte(e,n.categoria_id).subscribe(a=>{console.log(a),s().fire("Cambiado!","La categor\xeda del reporte ha sido cambiada.","success"),this.cargarReporte()},a=>{s().fire("Error!","La categor\xeda del reporte no ha sido cambiada.","error"),console.log(a.error.message)}):i.dismiss===s().DismissReason.cancel&&this.router.navigate(["/ute/gestionar-reporte"])})}mostrarDetallesReporte(e){this.router.navigate(["/ute/ver-detalles",e])}getShortTitle(e){if(this.mostrarMas)return e;if(e.length>this.maxTitleLength){const n=e.substring(0,this.maxTitleLength).trim(),i=n.lastIndexOf("");return n.substring(0,i)}return e}toggleMostrarMas(e){e.mostrarMas=!e.mostrarMas}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.j),t.Y36(Z),t.Y36(g.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-gestionar-reporte"]],decls:44,vars:11,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3","mt-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bxs-report","icon-color-10"],["aria-current","page",1,"breadcrumb-item","active"],[1,"position-absolute","top-0","end-0","mt-3","me-3"],[1,"card","radius-15"],[1,"card-body","p-2"],[1,"d-flex","align-items-center"],[1,"mb-0"],[1,"d-flex","align-items-center","mt-3"],["aria-label","Default select example",1,"form-select","form-select-sm",3,"ngModel","ngModelChange","change"],["value","","disabled",""],["value","Todos","selected",""],["value","Aceptado"],["value","Rechazado"],["value","En espera"],["value","Finalizado"],[4,"ngIf"],["class","text-center mt-5",4,"ngIf"],[1,"card","radius-15","overflow-hidden"],[1,"card-header","border-bottom-0"],[1,"d-flex","align-items-center","flex-row"],[1,"color","ml-2","letra"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","mb-0"],[1,"tabla"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-end"],[1,"btn","btn-light",3,"disabled","click"],["alt","reporte","class","img-avatar","width","50","height","35","style","border-radius: 40%;",3,"src",4,"ngIf"],["class","img-avatar img-fluid d-block","width","50","height","35","style","border-radius: 40%;",3,"src",4,"ngIf"],["class","ver-mas",3,"click",4,"ngIf"],["class","ver-menos",3,"click",4,"ngIf"],["class","btn btn-sm btn-light-secondary btn-block radius-30",3,"click",4,"ngIf"],["class","btn btn-sm btn-light-success btn-block radius-30",3,"click",4,"ngIf"],["class","btn btn-sm btn-light-danger btn-block radius-30",3,"click",4,"ngIf"],["class","btn btn-sm btn-light-warning btn-block radius-30",3,"click",4,"ngIf"],["aria-label","Default select example","ngClass","form-select",3,"ngModel","ngModelChange","change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","flex-wrap-nowrap"],[1,"mx-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bx","bx-file","me-0"],["alt","reporte","width","50","height","35",1,"img-avatar",2,"border-radius","40%",3,"src"],["width","50","height","35",1,"img-avatar","img-fluid","d-block",2,"border-radius","40%",3,"src"],[1,"ver-mas",3,"click"],[1,"ver-menos",3,"click"],[1,"btn","btn-sm","btn-light-secondary","btn-block","radius-30",3,"click"],[1,"btn","btn-sm","btn-light-success","btn-block","radius-30",3,"click"],[1,"btn","btn-sm","btn-light-danger","btn-block","radius-30",3,"click"],[1,"btn","btn-sm","btn-light-warning","btn-block","radius-30",3,"click"],[3,"value","selected"],[1,"table","mb-0","text-center"],[1,"text-center","mt-5"],["alt","img","width","150","height","150",1,"img-fluid",3,"src"],[1,"lead","mt-4"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Reportes"),t.qZA(),t.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),t.NdJ("click",function(a){return a.preventDefault()}),t._UZ(8,"i",7),t.qZA()(),t.TgZ(9,"li",8),t._uU(10,"Ver reportes"),t.qZA()()()(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div")(16,"h6",13),t._uU(17,"Filtrar por estados"),t.qZA()()(),t.TgZ(18,"div",14)(19,"div")(20,"select",15),t.NdJ("ngModelChange",function(a){return n.selectedOption=a})("change",function(){return n.filtrarReportes()}),t.TgZ(21,"option",16),t._uU(22,"Seleccione un estado"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"Todos"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"Aceptados"),t.qZA(),t.TgZ(27,"option",19),t._uU(28,"Rechazados"),t.qZA(),t.TgZ(29,"option",20),t._uU(30,"En espera"),t.qZA(),t.TgZ(31,"option",21),t._uU(32,"Finalizados"),t.qZA()()()()()()()(),t._uU(33,"\n\xa0\n\xa0\n"),t.YNc(34,k,39,5,"div",22),t.YNc(35,j,38,5,"div",22),t.YNc(36,st,38,5,"div",22),t.YNc(37,Ct,38,5,"div",22),t.YNc(38,kt,38,5,"div",22),t.YNc(39,It,4,1,"div",23),t.YNc(40,Et,4,1,"div",23),t.YNc(41,Ot,4,1,"div",23),t.YNc(42,$t,4,1,"div",23),t.YNc(43,Yt,4,1,"div",23)),2&e&&(t.xp6(20),t.Q6J("ngModel",n.selectedOption),t.xp6(14),t.Q6J("ngIf","Todos"==n.selectedOption&&n.reportes.length>0),t.xp6(1),t.Q6J("ngIf","Aceptado"==n.selectedOption&&n.reportes.length>0),t.xp6(1),t.Q6J("ngIf","Rechazado"==n.selectedOption&&n.reportes.length>0),t.xp6(1),t.Q6J("ngIf","En espera"==n.selectedOption&&n.reportes.length>0),t.xp6(1),t.Q6J("ngIf","Finalizado"==n.selectedOption&&n.reportes.length>0),t.xp6(1),t.Q6J("ngIf","Todos"==n.selectedOption&&0===n.reportes.length),t.xp6(1),t.Q6J("ngIf","Finalizado"==n.selectedOption&&0===n.reportes.length),t.xp6(1),t.Q6J("ngIf","Aceptado"==n.selectedOption&&0===n.reportes.length),t.xp6(1),t.Q6J("ngIf","Rechazado"==n.selectedOption&&0===n.reportes.length),t.xp6(1),t.Q6J("ngIf","En espera"==n.selectedOption&&0===n.reportes.length))},directives:[p.EJ,p.JJ,p.On,p.YN,p.Kr,l.O5,l.sg,l.mk],pipes:[l.uU],styles:['@charset "UTF-8";.card-floating[_ngcontent-%COMP%]{z-index:9999}.cursor[_ngcontent-%COMP%]{cursor:pointer}.tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.btn-secondary[_ngcontent-%COMP%]{position:relative;border-radius:10px;background-color:#30d4e4;border:none}.btn-secondary[_ngcontent-%COMP%]:before{content:"Ver detalles";position:absolute;top:-30px;left:50%;transform:translate(-50%);background-color:#968d90;color:#fff;padding:5px 10px;border-radius:4px;font-size:12px;white-space:nowrap;opacity:0;transition:opacity .3s ease-in-out}.btn-secondary[_ngcontent-%COMP%]:hover:before{opacity:1}.btn-success[_ngcontent-%COMP%]{position:relative;border-radius:10px;border:none}.btn-success[_ngcontent-%COMP%]:before{content:"Actualizar categor\\ed a";position:absolute;top:-30px;left:50%;transform:translate(-50%);background-color:#968d90;color:#fff;padding:5px 10px;border-radius:4px;font-size:12px;white-space:nowrap;opacity:0;transition:opacity .3s ease-in-out}.btn-success[_ngcontent-%COMP%]:hover:before{opacity:1}.a[_ngcontent-%COMP%]{color:gray;cursor:pointer}.color[_ngcontent-%COMP%]{color:#968d90}.letra[_ngcontent-%COMP%]{font-size:20px}']}),o})(),Ft=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-bitacoras"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"bitacoras works!"),t.qZA())},styles:[""]}),o})();var m=_(9898),x=_(665);const Ht=["mapa"];function Lt(o,r){if(1&o&&(t.TgZ(0,"div")(1,"p",16)(2,"strong"),t._uU(3,"Justificaci\xf3n:"),t.qZA(),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.justificacion,"")}}function Pt(o,r){if(1&o&&(t.TgZ(0,"div",20),t._UZ(1,"img",21),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.imagenReporte,t.LSH)}}function St(o,r){if(1&o&&(t.TgZ(0,"div",20),t._UZ(1,"img",21),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.noImage,t.LSH)}}const Dt=["mapa"],jt=[{path:"gestionar-reporte",component:yt,data:{title:"Gestionar reportes"}},{path:"bitacoras",component:Ft,data:{title:"Bitacora"}},{path:"ver-detalles/:id",component:(()=>{class o{constructor(e,n,i,a,c){this.serviceReporte=e,this.route=n,this.router=i,this.mapService=a,this.reporteService=c,this.reporteId="",this.detallesReporte="",this.imagenReporte="",this.noImage="https://imgur.com/VIfooXa.png",this.justificacion=null,this.lng=0,this.lat=0,this.reportes=[],this.center=[-84.4323471267699,10.05490747193752],this.zoomLevel=14,this.isReady=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{this.reporteId=e.get("id")}),console.log(this.reporteId),this.verReporte(),this.mostrarJustificacion()}verReporte(){this.serviceReporte.mostrarReporteId(this.reporteId).subscribe(e=>{console.log(e),this.reportes=e.reporte,console.log(this.reportes),this.detallesReporte=e.reporte.descripcion,this.imagenReporte=e.reporte.imagen,this.lng=e.reporte.longitud,this.lat=e.reporte.latitud,this.lngLat=[this.lng,this.lat],console.log("lngLat"),console.log(this.lngLat),this.isReady=!0,this.mapContainer&&this.initializeMap()})}objectKeys(e){return Object.keys(e)}cerrarModal(){this.router.navigate(["/ute/gestionar-reporte"])}mostrarJustificacion(){this.reporteService.mostrar_justificacion(this.reporteId).subscribe(e=>{console.log("justificacion"),console.log(e),this.justificacion=e.justificacion,console.log(this.justificacion)},e=>console.log(e))}initializeMap(){console.log("lng lat"),console.log(this.lngLat),this.mapa=new m.Map({container:this.mapContainer.nativeElement,style:"mapbox://styles/mapbox/satellite-streets-v11",center:this.lngLat,zoom:this.zoomLevel,maxZoom:19,minZoom:14}),this.mapService.setMap(this.mapa),new m.Marker({draggable:!1,color:"red"}).setLngLat(this.lngLat).addTo(this.mapa)}ngAfterViewInit(){this.isReady&&this.initializeMap()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.j),t.Y36(g.gz),t.Y36(g.F0),t.Y36(x.S),t.Y36(d.j))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-detalles"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ht,5),2&e){let i;t.iGM(i=t.CRH())&&(n.mapContainer=i.first)}},decls:40,vars:5,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bxs-report","icon-color-3"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],[1,"row"],[1,"col-6"],[1,"card-title"],[1,"map-container"],["mapa",""],[1,"card-body"],[1,"card-text"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["alt","Imagen del reporte",1,"img-fluid","smaller-image",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Reporte"),t.qZA(),t.TgZ(3,"div",2)(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),t.NdJ("click",function(a){return a.preventDefault()}),t._UZ(8,"i",7),t.qZA()(),t.TgZ(9,"li",8),t._uU(10,"Detalles reporte"),t.qZA()()()()(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"h5",12)(15,"strong"),t._uU(16,"Localizaci\xf3n: "),t.qZA()(),t._UZ(17,"hr")(18,"div",13,14),t.TgZ(20,"div",15)(21,"p",16)(22,"strong"),t._uU(23,"ID del reporte: "),t.qZA(),t._uU(24),t.qZA(),t.TgZ(25,"p",16)(26,"strong"),t._uU(27,"Descripci\xf3n:"),t.qZA(),t._uU(28),t.qZA(),t.YNc(29,Lt,5,1,"div",17),t._UZ(30,"hr"),t.TgZ(31,"button",18),t.NdJ("click",function(){return n.cerrarModal()}),t._uU(32,"Volver"),t.qZA()()(),t.TgZ(33,"div",11)(34,"h5",12)(35,"strong"),t._uU(36,"Imagen: "),t.qZA()(),t._UZ(37,"hr"),t.YNc(38,Pt,2,1,"div",19),t.YNc(39,St,2,1,"div",19),t.qZA()()()),2&e&&(t.xp6(24),t.Oqu(n.reporteId),t.xp6(4),t.hij(" ",n.detallesReporte,""),t.xp6(1),t.Q6J("ngIf",null!=n.justificacion),t.xp6(9),t.Q6J("ngIf",n.imagenReporte),t.xp6(1),t.Q6J("ngIf",!n.imagenReporte))},directives:[l.O5],styles:['@charset "UTF-8";.map-container[_ngcontent-%COMP%]{height:200px;right:0;top:0;margin:0;width:100%}.smaller-image[_ngcontent-%COMP%]{max-width:60%;height:auto;display:block;margin:0 auto;max-height:50%}.card[_ngcontent-%COMP%]{width:100%;margin:50px auto 0;border:1px solid #ccc;border-radius:5px;padding:20px;box-shadow:0 2px 5px #0000001a;height:70%}.card-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.card-text[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.btn-primary[_ngcontent-%COMP%]{background-color:red;border-color:#ff0d00;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:red;border-color:red}.btn[_ngcontent-%COMP%]{margin-right:10px}']}),o})(),data:{title:"Ver detalles"}},{path:"mapa",component:(()=>{class o{constructor(e,n){this.mapService=e,this.serviceReporte=n,this.center=[-84.4323471267699,10.05490747193752],this.marcadores=[],this.zoomLevel=14}ngAfterViewInit(){this.mapa=new m.Map({container:this.mapContainer.nativeElement,style:"mapbox://styles/mapbox/satellite-streets-v11",center:this.lngLat,zoom:this.zoomLevel,maxZoom:19,minZoom:14,scrollZoom:!1}),this.mapService.setMap(this.mapa),new m.Marker({draggable:!1,color:"red"}).setLngLat(this.lngLat).addTo(this.mapa)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.S),t.Y36(d.j))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mapa"]],viewQuery:function(e,n){if(1&e&&t.Gf(Dt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.mapContainer=i.first)}},inputs:{lngLat:"lngLat"},decls:2,vars:0,consts:[[1,"map-container"],["mapa",""]],template:function(e,n){1&e&&t._UZ(0,"div",0,1)},styles:[".map-container[_ngcontent-%COMP%]{height:200px;right:0;top:0;margin:0;width:100%}.list-group[_ngcontent-%COMP%]{width:100px;top:40px;left:40px}li[_ngcontent-%COMP%]{cursor:pointer}.row[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;bottom:40px;right:30px;padding:10px;position:fixed;z-index:999;width:220px}.container[_ngcontent-%COMP%]{width:50%;height:50%;margin:0}"]}),o})(),data:{title:"Mapa"}}];let Bt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(jt)],g.Bz]}),o})(),Vt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,Bt,p.UX,p.u5]]}),o})()}}]);